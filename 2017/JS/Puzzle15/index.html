<!DOCTYPE html>
<html>
    <header>
        <script src="arrayExtensions.js"></script>
        <script src="state.js"></script>
        <script src="puzzle15.js"></script>
        <style>
            div {
                font-family: 'DejaVu Sans Mono', monospace;
            }
        </style>
    </header>
    <body>
        <div id="initial"></div>
        <div id="solved">computing...</div>
        <script>
            var solver = new Puzzle15Solver();

            var visualizeState = function(state, selector = "div#solved") {
                var element = document.querySelector(selector);
                if (!state) {
                    element.style.color = "red";
                    return;
                }

                var printState = state.toString();
                element.innerHTML = 
                    `${printState.replace(/\/n/g, "<br>")}<br><br>stackSize:${solver.stateStack.length}`;
            }

            visualizeState(solver.initialState, "div#initial");

            solver.compute();

            visualizeState(solver.stateStack.last());

        </script>
    </body>
</html>